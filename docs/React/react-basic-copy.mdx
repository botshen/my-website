# React-Basic

## çŸ¥è¯†å›¾è°±



[è¯¾ç¨‹èµ„æ–™æ–‡ä»¶.zip](React-Basic%203f1425a99e4c45b6b48d2f7f3a62733f/%25E8%25AF%25BE%25E7%25A8%258B%25E8%25B5%2584%25E6%2596%2599%25E6%2596%2587%25E4%25BB%25B6.zip)

## ç¯å¢ƒæ­å»º

- scriptsé‡Œé¢çš„å‘½ä»¤å®é™…ä¸Šæ˜¯è¿è¡Œäº†react-scriptsè¿™ä¸ªåŒ…å®ç°çš„

```json
"dependencies": {
    "@testing-library/jest-dom": "^5.16.4",
    "@testing-library/react": "^13.3.0",
    "@testing-library/user-event": "^13.5.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-scripts": "5.0.1",
    "web-vitals": "^2.1.4"
  },
"scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  },
```

## ç¬¬ä¸€ä¸ªç±»ç»„ä»¶

é»˜è®¤çš„appå‡½æ•°ç»„ä»¶æ”¹å†™æˆç±»ç»„ä»¶

```jsx
import logo from "./logo.svg";
import "./App.css";
import { Component } from "react";

class App extends Component {
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>
            Edit <code>src/App.js</code> and save to reload.
          </p>
          <a
            className="App-link"
            href="https://reactjs.org"
            target="_blank"
            rel="noopener noreferrer"
          >
            Learn React
          </a>
        </header>
      </div>
    );
  }
}

export default App;
```

## setState



```jsx
import "./App.css";
import { Component } from "react";

class App extends Component {
  constructor(props) {
    super();
    this.state = {
      name: "lihua",
    };
  }
  handleChangeName = () => {
    // è¿™ç§ç›´æ¥å†™å¯¹è±¡çš„æ–¹å¼ä¸èƒ½æ‹¿åˆ°æœ€æ–°çš„å€¼
	  //this.setState({name:"lihua2"})
    //console.log(this.state)
    this.setState(
      () => {
        return {
          name: "lihua2",
        };
      },
      () => {
        console.log(this.state);
      }
    );
  };
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <p>{this.state.name}</p>
          <button onClick={this.handleChangeName}>change name</button>
        </header>
      </div>
    );
  }
}

export default App;

```

```jsx
componentDidMount() {
        fetch('https://jsonplaceholder.typicode.com/users')
            .then(response => response.json())
            .then(user => {
                    this.setState(() => ({monster: user}),
                        () => {
                            console.log(this.state.monster)
                        })
                }
            );
    }
```

## ç±»ç»„ä»¶çš„æ‰§è¡Œé¡ºåº

1. æ„é€ å‡½æ•°ï¼Œåœ¨é‡Œé¢åˆå§‹åŒ–æ•°æ®
2. renderå‡½æ•°
3. componentDidMount ç”Ÿå‘½å‘¨æœŸå‡½æ•°

## classç»„ä»¶çš„è¿‡æ»¤æ–¹æ³•

ä¸‹é¢çš„ä»£ç æˆ‘ä»¬æŠŠæ•´ä¸ªåˆ—è¡¨æ²¡å­˜ï¼Œæ‰€ä»¥è¿‡æ»¤ä¹‹åå°±æ¶ˆå¤±äº†ï¼Œå¯¼è‡´æ•°æ®è¶Šæ¥è¶Šå°‘

```jsx
import "./App.css";
import {Component} from "react";

class App extends Component {
    constructor(props) {
        super(props);
        this.state = {
            monster: [],
        };
    }

    componentDidMount() {
        fetch('https://jsonplaceholder.typicode.com/users')
            .then(response => response.json())
            .then(user => {
                    this.setState(() => ({monster: user}),
                        () => {
                            console.log(this.state.monster)
                        })
                }
            );
    }

    render() {
        return (
            <div className="App">
                <input className="search-box" type='search' placeholder="search monsters"
                       onChange={(event) => {
                           console.log(event.target.value);
                           const searchString = event.target.value.toLocaleLowerCase();
                           const filteredMonster = this.state.monster.filter(((monster) => {
                               return monster.name.toLocaleLowerCase().includes(searchString);
                           }))
                           this.setState(() => ({monster: filteredMonster}))
                       }}/>
                {this.state.monster.map((master) => {
                    return <div key={master.id}><h1>{master.name}</h1></div>
                })}
            </div>
        );
    }
}

export default App;
```

## æ”¹è¿›åçš„filter

æ‰€ä»¥æˆ‘ä»¬æŠ½ç¦»äº†è¿‡æ»¤åçš„åˆ—è¡¨æ•°æ®ï¼Œå°†è¿‡æ»¤åçš„æ•°æ®å’Œå®Œæ•´æ•°æ®åˆ†ç¦»

```jsx
render() {
        const filteredMonster = this.state.monster.filter(monster => monster.name.toLocaleLowerCase().includes(this.state.searchField));
        return (
            <div className="App">
                <input className="search-box" type='search' placeholder="search monsters"
                       onChange={(event) => {
                           console.log(event.target.value);
                           const searchField = event.target.value.toLocaleLowerCase();
                           this.setState(() => ({searchField}))
                       }}/>
                {filteredMonster.map((master) => {
                    return <div key={master.id}><h1>{master.name}</h1></div>
                })}
            </div>
        );
    }
```

## class ç»„ä»¶çš„ props ä¼ é€’

<aside>
ğŸ’¡ ç»„ä»¶é‡æ–°æ¸²æŸ“çš„æ—¶æœºæ˜¯setStateå’ŒPropså˜åŒ–çš„æ—¶å€™ï¼Œè‡ªä¸Šè€Œä¸‹ï¼Œç”±å¤–åˆ°é‡Œï¼Œä»æœ€å¤–å±‚çš„index.jsåˆ°app.jsâ€¦â€¦

</aside>

```jsx
<CardList monsters={filteredMonster}/>
// ç»„ä»¶å†…éƒ¨
import {Component} from "react";

class CardList extends Component {
    render() {
				// è¿™é‡Œèƒ½æ‹¿åˆ°æ‰€æœ‰çš„propsçš„å¯¹è±¡
        console.log(this.props);
        return (
            <div className="card-list">
                {this.props.monsters.map(m => {
                    return <div key={m.id}><h1>{m.name}</h1></div>
                })}
            </div>
        );
    }
}

export default CardList;
```

## ç”Ÿå‘½å‘¨æœŸ



## å‡½æ•°ç»„ä»¶

- å‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä¸åº”è¯¥ç”¨ç”Ÿå‘½å‘¨æœŸçš„è§’åº¦è€ƒè™‘hooks
- å‡½æ•°åˆ†ä¸ºçº¯å‡½æ•°å’Œéçº¯å‡½æ•°ï¼Œå‡½æ•°æœ‰å‰¯ä½œç”¨çš„æ¦‚å¿µ
    - çº¯å‡½æ•°å°±æ˜¯æ— è®ºæ‰§è¡Œå¤šå°‘æ¬¡ï¼Œåªè¦è¾“å…¥ç›¸åŒï¼Œè¾“å‡ºå°±ç›¸åŒ
      
       
        
    - ä¸æ˜¯çº¯å‡½æ•°çš„ä¾‹å­ï¼Œå½“cçš„å€¼å˜åŒ–çš„æ—¶å€™ï¼Œä¼ å…¥ç›¸åŒçš„å‚æ•°ï¼Œå‡½æ•°è¿”å›çš„å€¼å°±ä¼šå‘ç”Ÿå˜åŒ–
      
     
        

å½“propsæˆ–è€…stateå˜åŒ–çš„æ—¶å€™æ‰ä¼šæ›´æ–°UIï¼Œæ‰§è¡Œå‡½æ•°ã€‚